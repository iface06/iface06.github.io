<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://miro.com/app/static/styles.1.0.css"/>
    <script src="https://miro.com/app/static/sdk.1.1.js"></script>
    <script>
    miro.onReady(() => {
        miro.initialize({
          extensionPoints: {
            toolbar: {
              title: 'PlantUML',
              svgIcon: '<circle cx="12" cy="12" r="9" fill="none" fill-rule="evenodd" stroke="currentColor" stroke-width="2"/>',
              onClick: () => {
                onToolbarAppButtonClicked();
              }
            }
          }
        })
    })

    async function onToolbarAppButtonClicked () {
      const isAuthorized = await miro.isAuthorized();

      if (!isAuthorized) {
        await miro.requestAuthorization();
      }

      openPlantUmlApp();
    }

    function openPlantUmlApp () {
        console.log('Open PlantUML App...');
    }
    </script>
</head>
</html>
