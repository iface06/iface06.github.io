<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://miro.com/app/static/sdk.1.1.js"></script>
    <script>
    async function onToolbarAppButtonClicked () {
      const isAuthorized = await miro.isAuthorized()

      if (!isAuthorized) {
        await miro.requestAuthorization()
      }

      openPlantUmlApp()
    }

    function openPlantUmlApp () {
      miro.onReady(() => {
          miro.initialize({
            extensionPoints: {
              toolbar: {
                title: 'PlantUML',
                svgIcon: '<circle cx="12" cy="12" r="9" fill="none" fill-rule="evenodd" stroke="currentColor" stroke-width="2"/>',
                onClick: () => {
                  alert('Hi PlantUML!')
                }
              }
            }
          })
      })
    }

    
    </script>
</head>
</html>